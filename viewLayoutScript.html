<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous">
</script>
<script>
	function onSuccess(result){
      endProcessing()
      let message, parent;
      if(result.type == 'save'){
        parent = document.querySelector(".suInfo")
        message = '저장되었습니다'
      } else {
        parent = document.querySelector(".muInfo")
        message = '발행되었습니다.'
      }
      const wrapper = document.createElement('div')
      wrapper.innerHTML = '<div class="mt-3 alert alert-' + 'success' + ' alert-dismissible" role="alert">' + message + '<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>'
      parent.append(wrapper)
    }

    function onFailure(error) {
      endProcessing()
      let message, parent;
      parent = document.querySelector(".muInfo")
      message = error
      const wrapper = document.createElement('div')
      wrapper.innerHTML = '<div class="mt-3 alert alert-' + 'success' + ' alert-dismissible" role="alert">' + message + '<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>'
      parent.append(wrapper)
    }

    function endProcessing(){
      const parent = document.querySelector('.lds-dual-ring')
      parent.remove()
    }

    function addProcessing(){
      const parent = document.querySelector('.processingParent')
      const wrapper = document.createElement('div')
      wrapper.innerHTML = '<div class="lds-dual-ring"></div>'
      parent.append(wrapper)
    }
</script>